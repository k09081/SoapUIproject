<?xml version="1.0" encoding="UTF-8"?>
<con:testSuite id="f521dd01-189b-49f9-9ae7-134f1171dadd" name="TestSuite 1" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="f765ceee-233c-461c-a42d-0342387e130f" failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestCase1" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:settings/><con:testStep type="restrequest" name="GetAllCountry" id="92f8d72d-9a38-40e8-8e15-072a0075d577"><con:settings/><con:config service="https://restcountries.com" resourcePath="/v3.1/name/aruba" methodName="Aruba 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetAllCountry" id="2b7971c9-6f4a-4927-a769-0647f714eae8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://restcountries.com</con:endpoint><con:request/><con:originalUri>https://restcountries.com/v3.1/name/aruba</con:originalUri><con:assertion type="Simple Contains" id="8afc5257-8c71-4c8b-8783-1982454a6711" name="Contains"><con:configuration><token>Africa</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="157c3cea-2cfc-4bee-8497-334b4c063c58"><con:configuration/></con:assertion><con:assertion type="Simple Contains" id="a7f7cf1f-57a1-4b3b-9321-f0999cd191f8"><con:configuration/></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="fullText" value="false" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>fullText</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="GetCountryByName" id="5bff2eb3-a0d1-4be8-8dca-081868c904af"><con:settings/><con:config service="https://restcountries.com" resourcePath="/v3.1/name/{country name}" methodName="United 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetCountryByName" id="1a9109b1-8a23-4244-b165-17b70e8a219b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://restcountries.com</con:endpoint><con:request/><con:originalUri>https://restcountries.com/v3.1/name/united</con:originalUri><con:assertion type="Simple Contains" id="39325e7d-c4a5-478c-864f-0e84eb00c2e8" name="Africa"><con:configuration><token/><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="aeac3d7e-aec2-46d7-95f8-d854aed70718" name="Contains"><con:configuration><token>Africa</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="642b3df9-21e2-4ed6-996b-17efb3a30e23" name="Contains"><con:configuration><token>China</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="country name" value="china" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>country name</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Setup andteardowngroovy" id="f32ba81f-381e-4bec-9266-5ca2648631e0"><con:settings/><con:config><script>testRunner.testCase.testSuite.project.getTestSuiteByName('TestSuite1').getTestCaseByName('TestCase1').setSetupScript('log.info "setup for Test1"')
testRunner.testCase.testSuite.project.getTestSuiteByName('TestSuite1').getTestCaseByName('TestCase1').setTearDownScript('log.info "teardown for Test1"')

log.info ("  --  "+testRunner.testCase.getSetupScript());
log.info ("  --  "+testRunner.testCase.getTearDownScript());</script></con:config></con:testStep><con:setupScript>log.info("This runs before testcase1")</con:setupScript><con:tearDownScript>log.info("This runs after testcase1")</con:tearDownScript><con:properties/></con:testCase><con:testCase id="20557182-e1cb-473c-8e67-0dcee3e4d1c0" failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Assertions" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:settings/><con:testStep type="restrequest" name="Copy of GetAllCountry" id="c549f218-1b24-4e8d-b709-f607eeb76589"><con:settings/><con:config service="https://restcountries.com" resourcePath="/v3.1/name/aruba" methodName="Aruba 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Copy of GetAllCountry" id="2b7971c9-6f4a-4927-a769-0647f714eae8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://restcountries.com</con:endpoint><con:request/><con:originalUri>https://restcountries.com/v3.1/name/aruba</con:originalUri><con:assertion type="Simple Contains" id="8afc5257-8c71-4c8b-8783-1982454a6711" name="Contains"><con:configuration><token>Africa</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="157c3cea-2cfc-4bee-8497-334b4c063c58"><con:configuration/></con:assertion><con:assertion type="Simple Contains" id="a7f7cf1f-57a1-4b3b-9321-f0999cd191f8"><con:configuration/></con:assertion><con:assertion type="JsonPath Match" id="d3699d9e-8570-481e-b3f5-6833db045173" name="JsonPath Match"><con:configuration/></con:assertion><con:assertion type="JsonPath Existence Match" id="ea0428e4-5482-4354-b38e-77dd2c19de11" name="JsonPath Existence Match"><con:configuration/></con:assertion><con:assertion type="GroovyScriptAssertion" id="bcdbbbef-1d4f-4fee-b471-6f1a5d828f7a" name="Script Assertion"><con:configuration><scriptText>//get json response
import groovy.json.JsonSlurper
def responseMessage = messageExchange.response.responseContent
def json = new JsonSlurper().parseText(responseMessage)

testStepName = messageExchange.modelItem.testStep.name//to get the Test Step Name
log.info testStepName
xmlHold = messageExchange.responseContentAsXml.toString()  //to store the response as Xml string
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="fullText" value="taiwan" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>fullText</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="request" id="630736f0-8e9d-4a52-b248-a78828d25e30" name="CountriesUsingCurrency"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>CountryInfoServiceSoapBinding</con:interface><con:operation>CountriesUsingCurrency</con:operation><con:request name="CountriesUsingCurrency" id="e7981011-42c9-4949-9304-be728c8d521e"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://www.oorsprong.org/websamples.countryinfo">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <web:CountriesUsingCurrency>\r
         <web:sISOCurrencyCode>INR</web:sISOCurrencyCode>\r
      </web:CountriesUsingCurrency>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request><con:assertion type="Simple Contains" id="42c636cf-ac11-4f27-b49a-1b181e5bfae1" name="Contains"><con:configuration><token>India</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="XPath Match" id="acec20cf-ec35-4af4-bc87-afadcf2d1b64" name="XPath Match"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace m='http://www.oorsprong.org/websamples.countryinfo';
//m:sName</path><content>India</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XQuery Match" id="52914452-7f19-41d5-8ba3-fe797e31dd4e" name="XQuery Match"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace m='http://www.oorsprong.org/websamples.countryinfo';

//m:sISOCode</path><content>&lt;m:sISOCode xmlns:m="http://www.oorsprong.org/websamples.countryinfo">IN&lt;/m:sISOCode></content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="a5fb467c-20f8-44f3-ad64-171141638508"><con:configuration/></con:assertion><con:assertion type="SOAP Response" id="b5cb969a-e3de-49de-8da9-c27fcebdefa3" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="4de5b2bb-dfdb-4fc9-97b7-5a5e87fb6334" name="Not SOAP Fault"/><con:assertion type="Valid HTTP Status Codes" id="6a6422ea-248b-4a43-b310-24c8c0526277" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Response SLA Assertion" id="8e6aea5c-6b1d-44d3-8e41-33469c668742" name="Response SLA"><con:configuration><SLA>4000</SLA></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="81af51d7-244e-4c8e-933f-1390af543eb9" name="Script Assertion"><con:configuration><scriptText>assert messageExchange.timeTaken&lt;900

def endpoint="http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso"
assert messageExchange.getEndpoint()== endpoint
//log.info messageExchange.getEndpoint()

// check attachments
assert messageExchange.responseAttachments.length == 0

//to get response
def resp = messageExchange.responseContentAsXml.toString()
log.info resp


</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://www.oorsprong.org/websamples.countryinfo/CountryInfoServiceSoapType/CountriesUsingCurrencyRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/></con:testCase><con:properties/><con:setupScript>log.info("This runs before all testsuites1")</con:setupScript><con:tearDownScript>log.info("This runs after all testsuites1")</con:tearDownScript></con:testSuite>